<div class="dashboard-layout">
  <app-header (toggleSidebar)="onToggleSidebar()"></app-header>
  
  <app-sidebar [isOpen]="sidebarOpen">
    <div class="dashboard-content">
      <!-- Breadcrumb -->
      <div class="breadcrumb-section">
        <h1 class="page-title">Dashboard</h1>
        <nav class="breadcrumb">
          <span class="breadcrumb-item">Home</span>
          <mat-icon class="breadcrumb-separator">chevron_right</mat-icon>
          <span class="breadcrumb-item active">Dashboard</span>
        </nav>
      </div>

      <!-- Stats Cards -->
      <div class="stats-row">
        <mat-card *ngFor="let card of statsCards" class="stats-card" [class]="'stats-card-' + card.color">
          <mat-card-content>
            <div class="stats-header">
              <div class="stats-info">
                <h3 class="stats-title">{{ card.title }}</h3>
                <h2 class="stats-value">{{ card.value }}</h2>
              </div>
              <div class="stats-chart">
                <div class="mini-chart">
                  <div *ngFor="let point of card.chart; let i = index" 
                       class="chart-bar" 
                       [style.height.px]="point * 8">
                  </div>
                </div>
              </div>
            </div>
          </mat-card-content>
        </mat-card>
      </div>

      <!-- Main Content Grid -->
      <div class="content-grid">
        <!-- Sales Overview Chart -->
        <mat-card class="chart-card sales-overview">
          <mat-card-header>
            <mat-card-title>Sales Overview</mat-card-title>
            <mat-card-subtitle>Ample Admin Vs Pixel Admin</mat-card-subtitle>
          </mat-card-header>
          <mat-card-content>
            <div class="chart-legend">
              <div class="legend-item">
                <span class="legend-dot ample"></span>
                <span>Ample</span>
              </div>
              <div class="legend-item">
                <span class="legend-dot pixel"></span>
                <span>Pixel</span>
              </div>
            </div>
            <div class="bar-chart">
              <div class="chart-days">
                <div *ngFor="let day of ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']; let i = index" class="day-group">
                  <div class="bars">
                    <div class="bar ample-bar" [style.height.px]="ampleHeights[i]"></div>
                    <div class="bar pixel-bar" [style.height.px]="pixelHeights[i]"></div>
                  </div>
                  <span class="day-label">{{ day }}</span>
                </div>
              </div>
            </div>
          </mat-card-content>
        </mat-card>

        <!-- Visitors Chart -->
        <mat-card class="chart-card visitors-chart">
          <mat-card-header>
            <mat-card-title>Our Visitors</mat-card-title>
            <mat-card-subtitle>Different Devices Used to Visit</mat-card-subtitle>
          </mat-card-header>
          <mat-card-content>
            <div class="donut-chart">
              <div class="donut-container">
                <svg width="200" height="200" viewBox="0 0 200 200">
                  <circle cx="100" cy="100" r="80" fill="none" stroke="#e3f2fd" stroke-width="20"></circle>
                  <circle cx="100" cy="100" r="80" fill="none" stroke="#2196f3" stroke-width="20" 
                          stroke-dasharray="251.2" stroke-dashoffset="75.36" transform="rotate(-90 100 100)"></circle>
                  <circle cx="100" cy="100" r="80" fill="none" stroke="#00bcd4" stroke-width="20" 
                          stroke-dasharray="251.2" stroke-dashoffset="125.6" transform="rotate(90 100 100)"></circle>
                  <circle cx="100" cy="100" r="80" fill="none" stroke="#9c27b0" stroke-width="20" 
                          stroke-dasharray="251.2" stroke-dashoffset="188.4" transform="rotate(180 100 100)"></circle>
                </svg>
                <div class="donut-center">
                  <span class="visitor-label">Our Visitor</span>
                </div>
              </div>
            </div>
            <div class="device-legend">
              <div class="legend-item">
                <span class="legend-dot mobile"></span>
                <span>Mobile</span>
              </div>
              <div class="legend-item">
                <span class="legend-dot desktop"></span>
                <span>Desktop</span>
              </div>
              <div class="legend-item">
                <span class="legend-dot tablet"></span>
                <span>Tablet</span>
              </div>
            </div>
          </mat-card-content>
        </mat-card>
      </div>

      <!-- Bottom Section -->
      <div class="bottom-section">
        <!-- Newsletter Campaign -->
        <mat-card class="newsletter-card">
          <mat-card-content>
            <div class="newsletter-content">
              <div class="newsletter-image">
                <img src="https://images.pexels.com/photos/3861969/pexels-photo-3861969.jpeg?auto=compress&cs=tinysrgb&w=300&h=200&dpr=1" 
                     alt="Newsletter" class="campaign-img">
              </div>
            </div>
          </mat-card-content>
        </mat-card>

        <!-- Campaign Stats -->
        <mat-card class="campaign-stats">
          <mat-card-header>
            <mat-card-title>Newsletter Campaign</mat-card-title>
            <mat-card-subtitle>Overview of Newsletter Campaign</mat-card-subtitle>
          </mat-card-header>
          <mat-card-content>
            <div class="campaign-legend">
              <div class="legend-item">
                <span class="legend-dot open-rate"></span>
                <span>Open Rate</span>
              </div>
              <div class="legend-item">
                <span class="legend-dot recurring"></span>
                <span>Recurring Payments</span>
              </div>
            </div>
            <div class="line-chart">
              <svg width="100%" height="150" viewBox="0 0 400 150">
                <polyline points="0,120 50,100 100,80 150,90 200,70 250,85 300,65 350,75 400,60" 
                          fill="none" stroke="#2196f3" stroke-width="2"></polyline>
                <polyline points="0,100 50,110 100,95 150,105 200,90 250,100 300,85 350,95 400,80" 
                          fill="none" stroke="#00bcd4" stroke-width="2"></polyline>
              </svg>
            </div>
          </mat-card-content>
        </mat-card>
      </div>
    </div>
  </app-sidebar>
</div>
